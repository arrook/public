{"openapi":"3.1.0","info":{"title":"Healthcare IoT Backend","description":"测试","version":"1.0.0"},"paths":{"/api/v1/auth/register":{"post":{"tags":["authentication"],"summary":"Register","description":"用户注册","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["authentication"],"summary":"Login","description":"用户登录","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/update":{"put":{"tags":["authentication"],"summary":"Update","description":"用户更新","operationId":"update_api_v1_auth_update_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/profile":{"get":{"tags":["authentication"],"summary":"Profile","description":"获取用户信息","operationId":"profile_api_v1_auth_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}}}}},"/api/v1/auth/log":{"get":{"tags":["authentication"],"summary":"Log","description":"获取登录日志","operationId":"log_api_v1_auth_log_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SystemLogInfo"},"type":"array","title":"Response Log Api V1 Auth Log Get"}}}}}}},"/api/v1/devices":{"get":{"tags":["devices"],"summary":"Get Devices","description":"获取设备列表","operationId":"get_devices_api_v1_devices_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DeviceInfo"},"type":"array","title":"Response Get Devices Api V1 Devices Get"}}}}}}},"/api/v1/device/{device_name}":{"get":{"tags":["devices"],"summary":"Get Device","description":"获取设备详情","operationId":"get_device_api_v1_device__device_name__get","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["devices"],"summary":"Update Device","description":"更新设备","operationId":"update_device_api_v1_device__device_name__put","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["devices"],"summary":"Delete Device","description":"删除设备","operationId":"delete_device_api_v1_device__device_name__delete","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device/user/{user_id}":{"get":{"tags":["devices"],"summary":"Get Device By User","description":"获取设备详情","operationId":"get_device_by_user_api_v1_device_user__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device":{"post":{"tags":["devices"],"summary":"Create Device","description":"创建设备","operationId":"create_device_api_v1_device_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sensor-data/{device_name}":{"get":{"tags":["data"],"summary":"Get Sensor Data","description":"获取传感器数据","operationId":"get_sensor_data_api_v1_sensor_data__device_name__get","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}},{"name":"start_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"}},{"name":"end_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SensorDataInfo"},"title":"Response Get Sensor Data Api V1 Sensor Data  Device Name  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/latest-sensor-data/{device_name}":{"get":{"tags":["data"],"summary":"Get Latest Sensor Data","description":"获取最新传感器数据","operationId":"get_latest_sensor_data_api_v1_latest_sensor_data__device_name__get","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorDataInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/system-status/{device_name}":{"get":{"tags":["data"],"summary":"Get System Status","description":"获取系统状态历史","operationId":"get_system_status_api_v1_system_status__device_name__get","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SensorDataInfo"},"title":"Response Get System Status Api V1 System Status  Device Name  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device/{device_name}/config":{"post":{"tags":["config"],"summary":"Set Device Config","description":"设置设备配置","operationId":"set_device_config_api_v1_device__device_name__config_post","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["config"],"summary":"Update Device Config","description":"修改设备配置","operationId":"update_device_config_api_v1_device__device_name__config_put","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceConfigCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["config"],"summary":"Get Device Config","description":"获取设备配置","operationId":"get_device_config_api_v1_device__device_name__config_get","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceConfigInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device/{device_name}/config/default":{"put":{"tags":["config"],"summary":"Default Device Config","description":"修改设备配置","operationId":"default_device_config_api_v1_device__device_name__config_default_put","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device/{device_name}/config/{config_id}":{"delete":{"tags":["config"],"summary":"Delete Device Config","description":"删除设备配置（仅医生权限）","operationId":"delete_device_config_api_v1_device__device_name__config__config_id__delete","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}},{"name":"config_id","in":"path","required":true,"schema":{"type":"integer","title":"Config Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device/{device_name}/control":{"post":{"tags":["control"],"summary":"Send Control Command","description":"发送控制命令","operationId":"send_control_command_api_v1_device__device_name__control_post","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ControlCommandCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["control"],"summary":"Get Control History","description":"获取设备控制命令历史","operationId":"get_control_history_api_v1_device__device_name__control_get","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ControlCommandInfo"},"title":"Response Get Control History Api V1 Device  Device Name  Control Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device/{command_id}/control":{"delete":{"tags":["control"],"summary":"Cancel Control Command","description":"取消待执行的控制命令","operationId":"cancel_control_command_api_v1_device__command_id__control_delete","parameters":[{"name":"command_id","in":"path","required":true,"schema":{"type":"integer","title":"Command Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users":{"get":{"tags":["admin"],"summary":"Get Users","description":"获取所有用户（仅医生、护士权限）","operationId":"get_users_api_v1_admin_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserInfo"},"type":"array","title":"Response Get Users Api V1 Admin Users Get"}}}}}}},"/api/v1/admin/total":{"get":{"tags":["admin"],"summary":"Get Total","description":"获取所有用户","operationId":"get_total_api_v1_admin_total_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserInfo"},"type":"array","title":"Response Get Total Api V1 Admin Total Get"}}}}}}},"/api/v1/admin/user/{user_id}":{"get":{"tags":["admin"],"summary":"Get User","description":"获取特定用户信息（仅医生权限）","operationId":"get_user_api_v1_admin_user__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin"],"summary":"Update User","description":"用户更新","operationId":"update_user_api_v1_admin_user__user_id__put","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/adminUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete User","description":"用户删除","operationId":"delete_user_api_v1_admin_user__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/user":{"post":{"tags":["admin"],"summary":"Register User","description":"用户注册","operationId":"register_user_api_v1_admin_user_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/today/login":{"get":{"tags":["status"],"summary":"Get Today Login Stats","description":"今日登录用户统计（支持自定义时间段）","operationId":"get_today_login_stats_api_v1_today_login_get","parameters":[{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"开始时间（默认今日0点）","title":"Start"},"description":"开始时间（默认今日0点）"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"结束时间（默认明日0点）","title":"End"},"description":"结束时间（默认明日0点）"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/today/active":{"get":{"tags":["status"],"summary":"Get Today Active Users","description":"最近N分钟活跃在线用户数","operationId":"get_today_active_users_api_v1_today_active_get","parameters":[{"name":"within_minutes","in":"query","required":false,"schema":{"type":"integer","maximum":1440,"minimum":5,"description":"活跃判定分钟数","default":30,"title":"Within Minutes"},"description":"活跃判定分钟数"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device/online/ratio":{"get":{"tags":["status"],"summary":"Get Device Online Ratio","description":"设备在线率（在线/总数）","operationId":"get_device_online_ratio_api_v1_device_online_ratio_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}}}}},"/api/v1/system/alarm/stats":{"get":{"tags":["status"],"summary":"Get Alarm Stats","description":"系统告警统计（最近N天）","operationId":"get_alarm_stats_api_v1_system_alarm_stats_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":30,"minimum":1,"description":"统计最近N天","default":7,"title":"Days"},"description":"统计最近N天"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/system/status/{device_name}":{"get":{"tags":["status"],"summary":"Get System Status History","description":"查询设备系统状态历史","operationId":"get_system_status_history_api_v1_system_status__device_name__get","parameters":[{"name":"device_name","in":"path","required":true,"schema":{"type":"string","title":"Device Name"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"返回条数","default":50,"title":"Limit"},"description":"返回条数"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SystemStatusInfo"},"title":"Response Get System Status History Api V1 System Status  Device Name  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/brief":{"get":{"tags":["status"],"summary":"Get Dashboard Brief","description":"控制台首页综合简报","operationId":"get_dashboard_brief_api_v1_dashboard_brief_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ActuatorsStatus":{"properties":{"relay":{"anyOf":[{"$ref":"#/components/schemas/MessageBase"},{"type":"null"}]},"rgb_led":{"anyOf":[{"$ref":"#/components/schemas/MessageBase"},{"type":"null"}]},"syn6288":{"anyOf":[{"$ref":"#/components/schemas/MessageBase"},{"type":"null"}]},"ssd1306":{"anyOf":[{"$ref":"#/components/schemas/MessageBase"},{"type":"null"}]}},"type":"object","title":"ActuatorsStatus"},"BodyTemperatureConfig":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","default":true},"min":{"type":"number","title":"Min","default":20},"max":{"type":"number","title":"Max","default":38},"voice_text":{"type":"string","title":"Voice Text","default":"身体温度异常"},"voice_music":{"type":"integer","title":"Voice Music","default":3}},"type":"object","title":"BodyTemperatureConfig"},"ControlCommandCreate":{"properties":{"device_name":{"type":"string","title":"Device Name"},"command":{"$ref":"#/components/schemas/DeviceControlData"}},"type":"object","required":["device_name","command"],"title":"ControlCommandCreate"},"ControlCommandInfo":{"properties":{"device_name":{"type":"string","title":"Device Name"},"command":{"$ref":"#/components/schemas/DeviceControlData"},"id":{"type":"integer","title":"Id"},"status":{"$ref":"#/components/schemas/ControlCommandStatusEnum"},"response":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Response"},"created_by":{"type":"integer","title":"Created By"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"executed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Executed At"}},"type":"object","required":["device_name","command","id","status","created_by","created_at"],"title":"ControlCommandInfo"},"ControlCommandStatusEnum":{"type":"string","enum":["pending","executed","failed"],"title":"ControlCommandStatusEnum"},"DeviceConfigCreate":{"properties":{"device_name":{"type":"string","title":"Device Name"},"config_data":{"$ref":"#/components/schemas/DeviceConfigData-Input"}},"type":"object","required":["device_name","config_data"],"title":"DeviceConfigCreate"},"DeviceConfigData-Input":{"properties":{"max30102":{"anyOf":[{"$ref":"#/components/schemas/Max30102Config"},{"type":"null"}]},"dht11":{"anyOf":[{"$ref":"#/components/schemas/Dht11Config"},{"type":"null"}]},"ds18b20":{"anyOf":[{"$ref":"#/components/schemas/Ds18b20Config"},{"type":"null"}]},"mpu6050":{"anyOf":[{"$ref":"#/components/schemas/Mpu6050Config"},{"type":"null"}]},"gps":{"anyOf":[{"$ref":"#/components/schemas/GpsConfig"},{"type":"null"}]},"rgb_led":{"anyOf":[{"$ref":"#/components/schemas/RgbLedConfig"},{"type":"null"}]},"relay":{"anyOf":[{"$ref":"#/components/schemas/RelayConfig"},{"type":"null"}]},"syn6288":{"anyOf":[{"$ref":"#/components/schemas/Syn6288Config"},{"type":"null"}]}},"type":"object","title":"DeviceConfigData"},"DeviceConfigData-Output":{"properties":{"max30102":{"anyOf":[{"$ref":"#/components/schemas/Max30102Config"},{"type":"null"}]},"dht11":{"anyOf":[{"$ref":"#/components/schemas/Dht11Config"},{"type":"null"}]},"ds18b20":{"anyOf":[{"$ref":"#/components/schemas/Ds18b20Config"},{"type":"null"}]},"mpu6050":{"anyOf":[{"$ref":"#/components/schemas/Mpu6050Config"},{"type":"null"}]},"gps":{"anyOf":[{"$ref":"#/components/schemas/GpsConfig"},{"type":"null"}]},"rgb_led":{"anyOf":[{"$ref":"#/components/schemas/RgbLedConfig"},{"type":"null"}]},"relay":{"anyOf":[{"$ref":"#/components/schemas/RelayConfig"},{"type":"null"}]},"syn6288":{"anyOf":[{"$ref":"#/components/schemas/Syn6288Config"},{"type":"null"}]}},"type":"object","title":"DeviceConfigData"},"DeviceConfigInfo":{"properties":{"device_name":{"type":"string","title":"Device Name"},"config_data":{"$ref":"#/components/schemas/DeviceConfigData-Output"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["device_name","config_data","id","created_at","updated_at"],"title":"DeviceConfigInfo"},"DeviceControlData":{"properties":{"relay":{"anyOf":[{"$ref":"#/components/schemas/RelayCommand"},{"type":"null"}]},"rgb_led":{"anyOf":[{"$ref":"#/components/schemas/RgbLedCommand"},{"type":"null"}]},"syn6288":{"anyOf":[{"$ref":"#/components/schemas/Syn6288Command"},{"type":"null"}]}},"type":"object","title":"DeviceControlData"},"DeviceCreate":{"properties":{"device_name":{"type":"string","title":"Device Name"},"owner_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner Id"}},"type":"object","required":["device_name"],"title":"DeviceCreate"},"DeviceInfo":{"properties":{"device_name":{"type":"string","title":"Device Name"},"owner_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner Id"},"is_online":{"type":"boolean","title":"Is Online","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["device_name","created_at","updated_at"],"title":"DeviceInfo"},"Dht11Config":{"properties":{"sample_period":{"type":"integer","title":"Sample Period","default":1000},"temperature":{"allOf":[{"$ref":"#/components/schemas/TemperatureConfig"}],"default":{"enabled":true,"min":16,"max":26,"voice_text":"环境温度异常","voice_music":3}},"humidity":{"allOf":[{"$ref":"#/components/schemas/HumidityConfig"}],"default":{"enabled":true,"min":30,"max":80,"voice_text":"环境湿度过高","voice_music":3}}},"type":"object","title":"Dht11Config"},"Dht11Data":{"properties":{"temperature":{"type":"integer","title":"Temperature"},"humidity":{"type":"integer","title":"Humidity"}},"type":"object","required":["temperature","humidity"],"title":"Dht11Data"},"Ds18b20Config":{"properties":{"sample_period":{"type":"integer","title":"Sample Period","default":1000},"temperature":{"allOf":[{"$ref":"#/components/schemas/BodyTemperatureConfig"}],"default":{"enabled":true,"min":20.0,"max":38.0,"voice_text":"身体温度异常","voice_music":3}}},"type":"object","title":"Ds18b20Config"},"Ds18b20Data":{"properties":{"temperature":{"type":"number","title":"Temperature"}},"type":"object","required":["temperature"],"title":"Ds18b20Data"},"FallDetectionConfig":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","default":true},"threshold":{"type":"number","title":"Threshold","default":1.9},"voice_text":{"type":"string","title":"Voice Text","default":"检测到跌倒，正在通知紧急联系人"},"voice_music":{"type":"integer","title":"Voice Music","default":1}},"type":"object","title":"FallDetectionConfig"},"GeoFenceConfig":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","default":true},"center_lat":{"type":"number","title":"Center Lat","default":39.9042},"center_lon":{"type":"number","title":"Center Lon","default":116.4074},"radius":{"type":"number","title":"Radius","default":100.0},"voice_text":{"type":"string","title":"Voice Text","default":"已超出安全区域"},"voice_music":{"type":"integer","title":"Voice Music","default":2}},"type":"object","title":"GeoFenceConfig"},"GpsConfig":{"properties":{"sample_period":{"type":"integer","title":"Sample Period","default":1000},"fence":{"allOf":[{"$ref":"#/components/schemas/GeoFenceConfig"}],"default":{"enabled":true,"center_lat":39.9042,"center_lon":116.4074,"radius":100.0,"voice_text":"已超出安全区域","voice_music":2}}},"type":"object","title":"GpsConfig"},"GpsData":{"properties":{"latitude":{"type":"number","title":"Latitude"},"lat_dir":{"type":"string","title":"Lat Dir","default":"N"},"longitude":{"type":"number","title":"Longitude"},"lon_dir":{"type":"string","title":"Lon Dir","default":"E"},"altitude":{"type":"number","title":"Altitude"}},"type":"object","required":["latitude","longitude","altitude"],"title":"GpsData"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HeartRateConfig":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","default":true},"min":{"type":"integer","title":"Min","default":50},"max":{"type":"integer","title":"Max","default":230},"voice_text":{"type":"string","title":"Voice Text","default":"心率异常，请及时休息"},"voice_music":{"type":"integer","title":"Voice Music","default":1}},"type":"object","title":"HeartRateConfig"},"HumidityConfig":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","default":true},"min":{"type":"integer","title":"Min","default":30},"max":{"type":"integer","title":"Max","default":80},"voice_text":{"type":"string","title":"Voice Text","default":"环境湿度过高"},"voice_music":{"type":"integer","title":"Voice Music","default":3}},"type":"object","title":"HumidityConfig"},"Max30102Config":{"properties":{"sample_period":{"type":"integer","title":"Sample Period","default":40},"heart_rate":{"allOf":[{"$ref":"#/components/schemas/HeartRateConfig"}],"default":{"enabled":true,"min":50,"max":230,"voice_text":"心率异常，请及时休息","voice_music":1}},"spo2":{"allOf":[{"$ref":"#/components/schemas/Spo2Config"}],"default":{"enabled":true,"min":80.0,"voice_text":"血氧过低，请注意呼吸","voice_music":2}}},"type":"object","title":"Max30102Config"},"Max30102Data":{"properties":{"heart_rate":{"type":"integer","title":"Heart Rate"},"spo2":{"type":"number","title":"Spo2"}},"type":"object","required":["heart_rate","spo2"],"title":"Max30102Data"},"MessageBase":{"properties":{"status":{"type":"string","title":"Status","default":"normal"},"enabled":{"type":"boolean","title":"Enabled","default":true}},"type":"object","title":"MessageBase"},"Mpu6050Config":{"properties":{"sample_period":{"type":"integer","title":"Sample Period","default":1000},"accel_range":{"type":"integer","title":"Accel Range","default":0},"gyro_range":{"type":"integer","title":"Gyro Range","default":0},"dlpf":{"type":"integer","title":"Dlpf","default":3},"fall_detection":{"allOf":[{"$ref":"#/components/schemas/FallDetectionConfig"}],"default":{"enabled":true,"threshold":1.9,"voice_text":"检测到跌倒，正在通知紧急联系人","voice_music":1}}},"type":"object","title":"Mpu6050Config"},"Mpu6050Data":{"properties":{"ax":{"type":"number","title":"Ax"},"ay":{"type":"number","title":"Ay"},"az":{"type":"number","title":"Az"},"gx":{"type":"number","title":"Gx"},"gy":{"type":"number","title":"Gy"},"gz":{"type":"number","title":"Gz"}},"type":"object","required":["ax","ay","az","gx","gy","gz"],"title":"Mpu6050Data"},"PillboxConfig":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","default":true},"reminder_times":{"items":{"type":"integer"},"type":"array","title":"Reminder Times","default":[8,12,18]},"reminder_duration":{"type":"integer","title":"Reminder Duration","default":1800},"miss_threshold":{"type":"integer","title":"Miss Threshold","default":1800},"voice_text":{"type":"string","title":"Voice Text","default":"服药时间到了，请按时服药"},"voice_music":{"type":"integer","title":"Voice Music","default":1}},"type":"object","title":"PillboxConfig"},"RelayCommand":{"properties":{"status":{"type":"boolean","title":"Status","default":true}},"type":"object","title":"RelayCommand"},"RelayConfig":{"properties":{"pillbox":{"allOf":[{"$ref":"#/components/schemas/PillboxConfig"}],"default":{"enabled":true,"reminder_times":[8,12,18],"reminder_duration":1800,"miss_threshold":1800,"voice_text":"服药时间到了，请按时服药","voice_music":1}}},"type":"object","title":"RelayConfig"},"Response":{"properties":{"code":{"type":"integer","title":"Code"},"message":{"type":"string","title":"Message"},"data":{"anyOf":[{},{"type":"null"}],"title":"Data"}},"type":"object","required":["code","message"],"title":"Response"},"RgbLedCommand":{"properties":{"red":{"type":"integer","title":"Red","default":255},"green":{"type":"integer","title":"Green","default":255},"blue":{"type":"integer","title":"Blue","default":255}},"type":"object","title":"RgbLedCommand"},"RgbLedConfig":{"properties":{},"type":"object","title":"RgbLedConfig"},"Role":{"type":"string","enum":["family","nurse","doctor"],"title":"Role"},"SensorData":{"properties":{"max30102":{"anyOf":[{"$ref":"#/components/schemas/Max30102Data"},{"type":"null"}]},"mpu6050":{"anyOf":[{"$ref":"#/components/schemas/Mpu6050Data"},{"type":"null"}]},"dht11":{"anyOf":[{"$ref":"#/components/schemas/Dht11Data"},{"type":"null"}]},"ds18b20":{"anyOf":[{"$ref":"#/components/schemas/Ds18b20Data"},{"type":"null"}]},"gps":{"anyOf":[{"$ref":"#/components/schemas/GpsData"},{"type":"null"}]}},"type":"object","title":"SensorData"},"SensorDataInfo":{"properties":{"device_name":{"type":"string","title":"Device Name"},"sensor_data":{"$ref":"#/components/schemas/SensorData"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["device_name","sensor_data","id","created_at"],"title":"SensorDataInfo"},"SensorsStatus":{"properties":{"max30102":{"anyOf":[{"$ref":"#/components/schemas/MessageBase"},{"type":"null"}]},"mpu6050":{"anyOf":[{"$ref":"#/components/schemas/MessageBase"},{"type":"null"}]},"dht11":{"anyOf":[{"$ref":"#/components/schemas/MessageBase"},{"type":"null"}]},"ds18b20":{"anyOf":[{"$ref":"#/components/schemas/MessageBase"},{"type":"null"}]},"gps":{"anyOf":[{"$ref":"#/components/schemas/MessageBase"},{"type":"null"}]}},"type":"object","title":"SensorsStatus"},"Spo2Config":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","default":true},"min":{"type":"number","title":"Min","default":80},"voice_text":{"type":"string","title":"Voice Text","default":"血氧过低，请注意呼吸"},"voice_music":{"type":"integer","title":"Voice Music","default":2}},"type":"object","title":"Spo2Config"},"StartTextConfig":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","default":true},"voice_text":{"type":"string","title":"Voice Text","default":"系统启动完成，开始健康监测"},"voice_music":{"type":"integer","title":"Voice Music","default":1}},"type":"object","title":"StartTextConfig"},"Syn6288Command":{"properties":{"voice_text":{"type":"string","title":"Voice Text","default":"测试语音"},"voice_music":{"type":"integer","title":"Voice Music","default":1}},"type":"object","title":"Syn6288Command"},"Syn6288Config":{"properties":{"start_text":{"allOf":[{"$ref":"#/components/schemas/StartTextConfig"}],"default":{"enabled":true,"voice_text":"系统启动完成，开始健康监测","voice_music":1}}},"type":"object","title":"Syn6288Config"},"SystemLogInfo":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"token":{"type":"string","title":"Token"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","user_id","token","expires_at","created_at"],"title":"SystemLogInfo"},"SystemStatus":{"properties":{"uptime":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Uptime"},"memory_free":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Memory Free"},"network_strength":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Network Strength"},"battery_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Battery Level"}},"type":"object","title":"SystemStatus"},"SystemStatusInfo":{"properties":{"device_name":{"type":"string","title":"Device Name"},"sensors":{"$ref":"#/components/schemas/SensorsStatus"},"actuators":{"$ref":"#/components/schemas/ActuatorsStatus"},"system":{"$ref":"#/components/schemas/SystemStatus"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["device_name","sensors","actuators","system","id","created_at"],"title":"SystemStatusInfo"},"TemperatureConfig":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","default":true},"min":{"type":"integer","title":"Min","default":16},"max":{"type":"integer","title":"Max","default":26},"voice_text":{"type":"string","title":"Voice Text","default":"环境温度异常"},"voice_music":{"type":"integer","title":"Voice Music","default":3}},"type":"object","title":"TemperatureConfig"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"Token"},"UserInfo":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"role":{"$ref":"#/components/schemas/Role"},"real_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Real Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","username","role","is_active","created_at","updated_at"],"title":"UserInfo"},"UserLogin":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"UserLogin"},"UserProfile":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"real_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Real Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}},"type":"object","required":["id","username"],"title":"UserProfile"},"UserRegister":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"role":{"$ref":"#/components/schemas/Role"},"real_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Real Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}},"type":"object","required":["username","password","role"],"title":"UserRegister"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"adminUpdate":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"real_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Real Name"},"role":{"anyOf":[{"$ref":"#/components/schemas/Role"},{"type":"null"}]},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","required":["id"],"title":"adminUpdate"}}}}